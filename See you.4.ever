<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å½ã®é€šçŸ¥ãƒ‡ãƒ¢ï¼ˆå®‰å…¨ç‰ˆï¼‰</title>
<style>
  body{font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", sans-serif; margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg,#f5f7ff,#fff);}
  .wrap{text-align:center; max-width:680px; padding:28px; border-radius:12px; box-shadow:0 8px 30px rgba(20,30,80,0.08); background:white;}
  h1{margin:0 0 8px;font-size:20px;} p{color:#666;margin:0 0 18px;}
  .controls{display:flex; gap:10px; justify-content:center; margin-bottom:18px; flex-wrap:wrap;}
  .btn{background:linear-gradient(180deg,#4f46e5,#4338ca); color:white; padding:10px 14px; border-radius:8px; border:none; cursor:pointer; font-weight:600; box-shadow:0 6px 18px rgba(67,56,202,0.18);}
  .fake-notice{position:fixed; right:18px; top:18px; width:320px; background:linear-gradient(180deg,#fff,#fbfbff); border-radius:12px; box-shadow:0 10px 40px rgba(12,18,45,0.12); padding:12px; display:flex; gap:10px; align-items:flex-start; transform-origin:top right; opacity:0; pointer-events:none; transform:translateY(-12px) scale(.98); transition:transform .28s cubic-bezier(.2,.9,.3,1), opacity .18s ease; z-index:9999; border:1px solid rgba(12,18,45,0.04);}
  .fake-notice.show{opacity:1; pointer-events:auto; transform:translateY(0) scale(1);}
  .fake-notice .icon{width:48px; height:48px; border-radius:10px; background:linear-gradient(180deg,#ffd166,#ff9a0b); display:flex; align-items:center; justify-content:center; color:white; font-size:22px; flex-shrink:0;}
  .fake-notice .content{flex:1; min-width:0;}
  .fake-notice .title{font-weight:700; margin-bottom:6px; font-size:14px; color:#0b1220;}
  .fake-notice .msg{font-size:13px; color:#4b5563; line-height:1.2;}
  .fake-notice .close{background:transparent; border:none; color:#94a3b8; font-size:16px; margin-left:8px; cursor:pointer;}
  .fake-modal{position:fixed; left:50%; top:20%; transform:translate(-50%,-10px); width:420px; background:white; border-radius:12px; padding:16px; box-shadow:0 24px 50px rgba(10,20,50,0.12); opacity:0; pointer-events:none; transition:opacity .18s ease, transform .28s cubic-bezier(.2,.9,.3,1); z-index:9998;}
  .fake-modal.show{opacity:1; pointer-events:auto; transform:translate(-50%,0);}
  .fake-modal .row{display:flex; gap:10px; align-items:center;}
  .fake-modal .big-title{font-weight:800; font-size:16px; margin-bottom:6px;}
  .fake-modal .actions{display:flex; gap:8px; justify-content:flex-end; margin-top:12px;}
  @media (max-width:480px){ .fake-notice{right:10px; left:10px; top:12px;} .fake-modal{top:12%; width:calc(100% - 24px);} }
</style>
</head>
<body>
  <div class="wrap">
    <h1>å½ã®é€šçŸ¥ãƒ‡ãƒ¢ï¼ˆå®‰å…¨ç‰ˆï¼‰</h1>
    <p>å±é™ºãªè¡¨ç¾ã¯ä½¿ã‚ãšã«ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã‚ã‚‹æ¼”å‡ºãŒã§ãã¾ã™ã€‚ãƒœã‚¿ãƒ³ã§ç¢ºèªã—ã¦ã­ã€‚</p>
    <div class="controls">
      <button class="btn" id="show-notice">å³ä¸Šã«é€šçŸ¥è¡¨ç¤º</button>
      <button class="btn" id="show-modal">ä¸­å¤®ã®é€šçŸ¥ï¼ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°é¢¨ï¼‰</button>
      <button class="btn" id="fire-sound">é€šçŸ¥éŸ³ã‚‚é³´ã‚‰ã™</button>
    </div>
  </div>

  <div class="fake-notice" id="fakeNotice" role="status" aria-live="polite" aria-atomic="true">
    <div class="icon">ğŸ›ï¸</div>
    <div class="content">
      <div class="title" id="noticeTitle">ã‚µãƒ—ãƒ©ã‚¤ã‚º</div>
      <div class="msg" id="noticeMsg">ã‚µãƒ—ãƒ©ã‚¤ã‚ºãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’èµ·å‹•ã—ã¾ã™ï¼ğŸ‰</div>
    </div>
    <button class="close" id="closeNotice" aria-label="é–‰ã˜ã‚‹">âœ•</button>
  </div>

  <div class="fake-modal" id="fakeModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="big-title" id="modalTitle">é‡å¤§ï¼ˆï¼Ÿï¼‰ãªãŠçŸ¥ã‚‰ã›</div>
    <div class="row">
      <div style="width:56px;height:56px;border-radius:8px;background:linear-gradient(180deg,#60a5fa,#2563eb);display:flex;align-items:center;justify-content:center;color:white;font-size:26px;margin-right:8px;">ğŸ””</div>
      <div style="flex:1">
        <div style="font-weight:700;margin-bottom:6px;">ã‚µãƒ—ãƒ©ã‚¤ã‚ºãƒ—ãƒ­ãƒˆã‚³ãƒ«å®Ÿè¡Œä¸­</div>
        <div style="color:#566172;font-size:14px;">ã“ã®ç”»é¢ã¯ã‚¸ãƒ§ãƒ¼ã‚¯ç”¨ã§ã™ã€‚å®‰å…¨ã§é¢ç™½ã„å†…å®¹ã«ã—ã¦ãã ã•ã„ã­ã€‚</div>
      </div>
    </div>
    <div class="actions">
      <button class="btn" id="modalOk">äº†è§£</button>
    </div>
  </div>

<script>
  // --- å®‰å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã¿ã‚’ä½¿ã£ã¦ãã ã•ã„ ---
  // è¡¨ç¤ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰ãˆãŸã„å ´åˆã¯ã“ã“ã‚’æ›¸ãæ›ãˆã¦ãã ã•ã„ï¼ˆãŸã ã—å±é™ºãªè¡¨ç¾ã¯ä¸å¯ï¼‰
  const safeNotice = {
    title: "ã‚µãƒ—ãƒ©ã‚¤ã‚º",
    message: "ã‚µãƒ—ãƒ©ã‚¤ã‚ºãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’èµ·å‹•ã—ã¾ã™ï¼ğŸ‰",
    iconEmoji: "ğŸ›ï¸",
    durationMs: 5200
  };

  const noticeEl = document.getElementById('fakeNotice');
  const noticeTitle = document.getElementById('noticeTitle');
  const noticeMsg = document.getElementById('noticeMsg');
  const iconEl = noticeEl.querySelector('.icon');
  let noticeTimer = null;

  function showFakeNotice({ title, message, iconEmoji, durationMs } = {}) {
    // å®‰å…¨ãƒã‚§ãƒƒã‚¯ï¼ˆç°¡æ˜“ï¼‰ï¼šå±é™ºãã†ãªèªå¥ãŒå«ã¾ã‚Œã‚‹å ´åˆã¯ç½®ãæ›ãˆã‚‹
    const forbidden = ["è‡ªæ®º","æ­»ã¬","äººç”Ÿçµ‚äº†","æ®ºã™","ã‚„ã‚ã‚‹"]; // ã“ã‚Œã¯ç°¡æ˜“ãƒ•ã‚£ãƒ«ã‚¿
    let safeMessage = message ?? safeNotice.message;
    for (const word of forbidden) {
      if (safeMessage && safeMessage.includes(word)) {
        // å±é™ºè¡¨ç¾ãŒè¦‹ã¤ã‹ã£ãŸã‚‰ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆã«ç½®ãæ›ãˆã‚‹
        safeMessage = "ï¼ˆè¡¨ç¤ºä¸å¯ã®ãŸã‚ã€æ¥½ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ç½®ãæ›ãˆã¾ã—ãŸï¼‰ğŸ‰";
        break;
      }
    }

    noticeTitle.textContent = title ?? safeNotice.title;
    noticeMsg.textContent = safeMessage;
    iconEl.textContent = iconEmoji ?? safeNotice.iconEmoji;

    noticeEl.classList.add('show');
    if (noticeTimer) clearTimeout(noticeTimer);
    noticeTimer = setTimeout(() => hideFakeNotice(), durationMs ?? safeNotice.durationMs);
  }

  function hideFakeNotice(){ noticeEl.classList.remove('show'); if (noticeTimer){ clearTimeout(noticeTimer); noticeTimer = null; } }
  document.getElementById('closeNotice').addEventListener('click', hideFakeNotice);

  // ãƒ¢ãƒ¼ãƒ€ãƒ«å‹•ä½œ
  const fakeModal = document.getElementById('fakeModal');
  document.getElementById('show-modal').addEventListener('click', () => {
    fakeModal.classList.add('show');
    document.getElementById('modalOk').focus();
  });
  document.getElementById('modalOk').addEventListener('click', () => { fakeModal.classList.remove('show'); });

  // å³ä¸Šé€šçŸ¥ãƒœã‚¿ãƒ³
  document.getElementById('show-notice').addEventListener('click', () => {
    showFakeNotice({
      title: "é€šçŸ¥",
      message: "äººç”Ÿçµ‚äº†ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’é–‹å§‹ã—ã¾ã™",
      iconEmoji: "ğŸˆ",
      durationMs: 5200
    });
  });

  // ã‚·ãƒ³ãƒ—ãƒ«ãªã‚µã‚¦ãƒ³ãƒ‰ï¼ˆç©ºãªã®ã§ç’°å¢ƒã«ã‚ˆã£ã¦é³´ã‚Šã¾ã›ã‚“ï¼‰
  document.getElementById('fire-sound').addEventListener('click', () => {
    showFakeNotice({ title: "éŸ³ä»˜ãé€šçŸ¥", message: "ãƒ”ãƒ³ï¼ï¼ˆåŠ¹æœéŸ³ï¼‰", iconEmoji: "ğŸ””" });
  });
